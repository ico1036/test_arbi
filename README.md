# Polymarket Arbitrage Bot v3.3

## Quick Start (30ì´ˆ)

```bash
uv sync                                         # ì„¤ì¹˜
uv run python -m polyarb                        # ì‹¤ì‹œê°„ ìŠ¤ìº” (WebSocket)
uv run python -m polyarb paper --mode moderate  # í˜ì´í¼ íŠ¸ë ˆì´ë”© (í”„ë¦¬ì…‹)
uv run python run_dashboard.py                  # ì›¹ ëŒ€ì‹œë³´ë“œ
uv run pytest                                   # í…ŒìŠ¤íŠ¸ (88ê°œ)
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```
âš¡ Real-time WebSocket arbitrage detection

ğŸ“Š Fetching markets...
   Found 264 binary markets
   Found 15 NegRisk events

âœ… Registered:
   Binary markets: 187
   NegRisk events: 12
   Total tokens: 398

ğŸ”Œ Connecting to WebSocket...
âš¡ Listening for real-time price updates...

======================================================================
ğŸ¯ BINARY_UNDERPRICED [BUY] - 6.38% profit
======================================================================
ğŸ“Œ Will Bitcoin reach $100k by 2024?...
ğŸ”— https://polymarket.com/event/will-btc-100k
----------------------------------------------------------------------
   YES ask: $0.4500
   NO ask:  $0.4800
   Total:   $0.9300
----------------------------------------------------------------------
ğŸ’° Profit: $0.0700 (6.38%)
ğŸ’§ Liquidity: $45,230
ğŸ’¡ $2,261 â†’ $144.24 profit
======================================================================
â° Detected at: 14:30:22.156
```

## í•µì‹¬ ê°œë…

**Binary Arbitrage**: YES + NO ê°€ê²© í•©ì´ $1ì´ ì•„ë‹ˆë©´ ì°¨ìµ ë°œìƒ

| ìƒí™© | ì¡°ê±´ | ì „ëµ | ì˜ˆì‹œ |
|------|------|------|------|
| UNDERPRICED | askí•© < $1 | ë‘˜ ë‹¤ ë§¤ìˆ˜ â†’ merge | $0.45 + $0.48 = $0.93 â†’ 7% ìˆ˜ìµ |
| OVERPRICED | bidí•© > $1 | $1ë¡œ mint â†’ ë‘˜ ë‹¤ ë§¤ë„ | $0.55 + $0.52 = $1.07 â†’ 7% ìˆ˜ìµ |

**NegRisk Arbitrage**: ë‹¤ì¤‘ í›„ë³´ ë§ˆì¼“ì—ì„œ ëª¨ë“  YES í•© < $1ì´ë©´ ì°¨ìµ ë°œìƒ

```
AìŠ¹ YES $0.20 + BìŠ¹ YES $0.18 + CìŠ¹ YES $0.17 + ... = $0.88 â†’ 12% ìˆ˜ìµ
```

## í€€íŠ¸ ì „ëµ íŒŒë¼ë¯¸í„°

ìˆ˜ìµë¥ ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” í•µì‹¬ ìš”ì†Œ 3ê°€ì§€:

| ìš”ì†Œ | ì„¤ëª… | íŒŒë¼ë¯¸í„° | êµ¬í˜„ ìƒíƒœ |
|------|------|----------|-----------|
| **Selection** | ì–´ë–¤ ê¸°íšŒë¥¼ ì¡ì„ì§€ | `--min-profit`, `--min-liquidity` | âœ… êµ¬í˜„ë¨ |
| **Sizing** | ì–¼ë§ˆë‚˜ ë°°íŒ…í• ì§€ | `--size`, liquidity cap (5% ê³ ì •) | âš ï¸ ë¶€ë¶„ êµ¬í˜„ |
| **Execution** | ì‹¤í–‰ ì†ë„ (ê¸°ê³„ë¹¨) | ë¯¸êµ¬í˜„ | âŒ Phase 3 ì˜ˆì • |

### Selection (ê¸°íšŒ ì„ íƒ)
```bash
# ë³´ìˆ˜ì : 3% ì´ìƒ, ìœ ë™ì„± $5,000 ì´ìƒë§Œ
uv run python -m polyarb --min-profit 3 --min-liquidity 5000
```

### Sizing (ë°°íŒ… í¬ê¸°)
```bash
# ê¸°íšŒë‹¹ $100 íˆ¬ì, ë‹¨ ìœ ë™ì„±ì˜ 5%ê¹Œì§€ë§Œ (í•˜ë“œì½”ë”©)
uv run python -m polyarb paper --size 100
```
- `--size 100`: ê¸°íšŒë‹¹ ìµœëŒ€ $100 íˆ¬ì
- ìœ ë™ì„± ì œí•œ: ë§ˆì¼“ ìœ ë™ì„±ì˜ 5%ê¹Œì§€ë§Œ ì‚¬ìš© (ìŠ¬ë¦¬í”¼ì§€ ë°©ì§€)
- ì˜ˆ: ìœ ë™ì„± $1,000 ë§ˆì¼“ â†’ ìµœëŒ€ $50ë§Œ íˆ¬ì ê°€ëŠ¥

### Execution (ì‹¤í–‰) - ë¯¸êµ¬í˜„
- í˜„ì¬: Paper Tradingë§Œ ì§€ì› (ì¦‰ì‹œ ì²´ê²° ê°€ì •)
- Phase 3ì—ì„œ `py-clob-client` ì—°ë™ ì˜ˆì •

## CLI ì˜µì…˜

### ì£¼ìš” íŒŒë¼ë¯¸í„° ì„¤ëª…

| íŒŒë¼ë¯¸í„° | ì˜ë¯¸ | ì˜ˆì‹œ |
|----------|------|------|
| `--min-profit 3` | íˆ¬ì ëŒ€ë¹„ 3% ì´ìƒ ìˆ˜ìµ ê¸°íšŒë§Œ ê°ì§€ | $0.97 íˆ¬ì â†’ $1.00 ìˆ˜ë ¹ = 3.09% |
| `--min-liquidity 5000` | ìœ ë™ì„± $5,000 ì´ìƒ ë§ˆì¼“ë§Œ ê°ì§€ | ìœ ë™ì„± ë‚®ìœ¼ë©´ ì²´ê²° ì–´ë ¤ì›€ |
| `--size 100` | ê¸°íšŒë‹¹ $100ì”© íˆ¬ì (í˜ì´í¼) | ìœ ë™ì„±ì˜ 5%ê¹Œì§€ë§Œ ì‚¬ìš© |

**`--min-profit` ê³„ì‚° ë°©ì‹:**
```
UNDERPRICED ì˜ˆì‹œ:
  YES ask $0.48 + NO ask $0.49 = $0.97 íˆ¬ì
  ì‹œì¥ ì¢…ë£Œ ì‹œ $1.00 ìˆ˜ë ¹
  ìˆ˜ìµë¥  = ($1.00 - $0.97) / $0.97 = 3.09%

--min-profit 3 â†’ 3% ì´ìƒë§Œ ê°ì§€ (ì´ ê¸°íšŒëŠ” ê°ì§€ë¨)
--min-profit 5 â†’ 5% ì´ìƒë§Œ ê°ì§€ (ì´ ê¸°íšŒëŠ” ë¬´ì‹œë¨)
```

**ê¶Œì¥ ì„¤ì •:**
- ë‚™ê´€ì : `--min-profit 1` (ê¸°íšŒ ë§ìŒ, ì‹¤íŒ¨ ìœ„í—˜ ë†’ìŒ)
- ë³´ìˆ˜ì : `--min-profit 3` (ì‹¤í–‰ ì¤‘ ê°€ê²© ë³€ë™ ë²„í¼)
- ì•ˆì „: `--min-profit 5` (ê¸°íšŒ ì ìŒ, í™•ì‹¤í•œ ê²ƒë§Œ)

### ì‹¤ì‹œê°„ ìŠ¤ìº” ëª¨ë“œ
| ì˜µì…˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|--------|------|
| `--min-profit` | 1.0 | ìµœì†Œ ìˆ˜ìµë¥  % (íˆ¬ì ëŒ€ë¹„) |
| `--min-liquidity` | 1000 | ìµœì†Œ ìœ ë™ì„± $ |
| `--max-markets` | 500 | ëª¨ë‹ˆí„°ë§í•  ìµœëŒ€ ë§ˆì¼“ ìˆ˜ |
| `--no-alerts` | - | ì•Œë¦¼ ë¹„í™œì„±í™” |
| `--no-log` | - | CSV ë¡œê¹… ë¹„í™œì„±í™” |

### í˜ì´í¼ íŠ¸ë ˆì´ë”© ëª¨ë“œ

**í”„ë¦¬ì…‹ ëª¨ë“œ (ê¶Œì¥):**
```bash
uv run python -m polyarb paper --mode conservative  # ì•ˆì „: 5%+, ì‹¤íŒ¨ìœ¨ 30%
uv run python -m polyarb paper --mode moderate      # ê· í˜•: 3%+, ì‹¤íŒ¨ìœ¨ 20%
uv run python -m polyarb paper --mode aggressive    # ê³µê²©: 1%+, ì‹¤íŒ¨ìœ¨ 10%
```

| ëª¨ë“œ | Min Profit | Position Size | Failure Rate | ì„¤ëª… |
|------|------------|---------------|--------------|------|
| conservative | 5% | $50 | 30% | í˜„ì‹¤ì  ìµœì•… ì‹œë‚˜ë¦¬ì˜¤ |
| moderate | 3% | $100 | 20% | ë…¼ë¬¸ ê¶Œì¥ ê¸°ì¤€ |
| aggressive | 1% | $200 | 10% | ë‚™ê´€ì  ì‹œë‚˜ë¦¬ì˜¤ |

**ì»¤ìŠ¤í…€ ì„¤ì •:**
```bash
uv run python -m polyarb paper --balance 10000 --size 100 --failure-rate 0.15
```

| ì˜µì…˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|--------|------|
| `--mode` | - | í”„ë¦¬ì…‹ ëª¨ë“œ (conservative/moderate/aggressive) |
| `--balance` | 10000 | ì´ˆê¸° ê°€ìƒ ì”ê³  $ |
| `--size` | 100 | ê¸°íšŒë‹¹ íˆ¬ì ê¸ˆì•¡ $ |
| `--failure-rate` | 0 | ì‹¤í–‰ ì‹¤íŒ¨ìœ¨ ì‹œë®¬ë ˆì´ì…˜ (0-1) |
| `--latency` | 0 | ì§€ì—°ì‹œê°„ ì‹œë®¬ë ˆì´ì…˜ (ms) |

### ì›¹ ëŒ€ì‹œë³´ë“œ
```bash
uv run python run_dashboard.py              # http://localhost:8080
uv run python run_dashboard.py --port 3000  # í¬íŠ¸ ë³€ê²½
```

## ì•Œë¦¼ ì„¤ì • (.env)

```bash
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/...
TELEGRAM_BOT_TOKEN=123456789:ABC...
TELEGRAM_CHAT_ID=123456789
```

---

*v3.3 - Preset Modes, Realistic Simulation, Web Dashboard ì¶”ê°€, 88 tests passing*
