# Polymarket Arbitrage Bot v3.0

**ë…¼ë¬¸ ê¸°ë°˜ ê³ ì„±ëŠ¥ ì•„ë¹„íŠ¸ë¼ì§€ íƒì§€ ì‹œìŠ¤í…œ**

[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

---

## ğŸ“Š ë…¼ë¬¸ ê¸°ë°˜ ë¶„ì„

ì´ í”„ë¡œì íŠ¸ëŠ” Polymarket ì•„ë¹„íŠ¸ë¼ì§€ ì—°êµ¬ ë…¼ë¬¸ì˜ ì‹¤ì¦ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

### ìˆ˜ìµì› ë¶„ì„ (ë…¼ë¬¸ ì‹¤ì¦ ë°ì´í„°)

| ì „ëµ | ì¶”ì¶œëœ ìˆ˜ìµ | ë³µì¡ë„ | ìš°ì„ ìˆœìœ„ |
|------|------------|--------|----------|
| **NegRisk ì•„ë¹„íŠ¸ë¼ì§€** | **$29M** | ì¤‘ê°„ | ğŸ¥‡ 1ìˆœìœ„ |
| ë‹¨ì¼ ì¡°ê±´ ì•„ë¹„íŠ¸ë¼ì§€ | $15.26M | ë‚®ìŒ | ğŸ¥ˆ 2ìˆœìœ„ |
| ì¡°í•© ì•„ë¹„íŠ¸ë¼ì§€ | ~$95K | ë†’ìŒ | âš ï¸ ROI ë‚®ìŒ |

### í•µì‹¬ ì¸ì‚¬ì´íŠ¸

```
ğŸ“ˆ ì‹œì¥ë³„ íŠ¹ì„±:
   â€¢ ìŠ¤í¬ì¸  ë§ˆì¼“: ê¸°íšŒ ë¹ˆë„ ë†’ìŒ (Figure 7)
   â€¢ ì •ì¹˜ ë§ˆì¼“: ìˆ˜ìµ ê·œëª¨ í¼

ğŸ’° ìˆ˜ìµì„± ê¸°ì¤€:
   â€¢ Gross > 1.5% â†’ Net ~1.0% (ìˆ˜ìˆ˜ë£Œ í›„)
   â€¢ Gross > 2.0% â†’ Net ~1.5%
   â€¢ ê¶Œì¥: 3%+ ë§ˆì§„ íƒ€ê²Ÿ

âš¡ ê²½ìŸ í˜„í™©:
   â€¢ Top 1 ì•„ë¹„íŠ¸ë¼ì €: $2M ìˆ˜ìµ, 4,049ê±´ ê±°ë˜ (ë´‡)
   â€¢ ê¸°íšŒ ì§€ì† ì‹œê°„: ì´ˆ~ë¶„ ë‹¨ìœ„
   â€¢ ì†ë„ê°€ í•µì‹¬ ê²½ìŸë ¥
```

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

```
polymarket_arbi/
â”œâ”€â”€ src/polyarb/                    # v3.0 (async, 45x faster)
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ gamma.py                # ë§ˆì¼“/ì´ë²¤íŠ¸ ì¡°íšŒ (async)
â”‚   â”‚   â”œâ”€â”€ clob.py                 # ê°€ê²©/ì˜¤ë”ë¶ (ë³‘ë ¬ 50ê°œ)
â”‚   â”‚   â””â”€â”€ websocket.py            # ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°
â”‚   â”œâ”€â”€ strategies/
â”‚   â”‚   â”œâ”€â”€ binary_arb.py           # YES + NO < $1 íƒì§€
â”‚   â”‚   â””â”€â”€ negrisk_arb.py          # ì´ë²¤íŠ¸ ê¸°ë°˜ NegRisk
â”‚   â”œâ”€â”€ scanner.py                  # í†µí•© ìŠ¤ìºë„ˆ
â”‚   â”œâ”€â”€ alerts.py                   # Discord/Telegram
â”‚   â”œâ”€â”€ models.py                   # ë°ì´í„° ëª¨ë¸
â”‚   â”œâ”€â”€ config.py                   # ì„¤ì •
â”‚   â””â”€â”€ main.py                     # CLI ì§„ì…ì 
â”‚
â”œâ”€â”€ polymarket_arbitrage_bot_v2.py  # v2.0 (sync, legacy)
â”œâ”€â”€ polymarket_arbitrage_bot.py     # v1.0 (basic)
â””â”€â”€ analyze_opportunities.py        # í†µê³„ ë¶„ì„
```

### ì†ë„ ë¹„êµ

| ë²„ì „ | ë°©ì‹ | 500 ë§ˆì¼“ ìŠ¤ìº” | ë°°ìˆ˜ |
|------|------|--------------|------|
| v2 | Sync REST | 297ì´ˆ (5ë¶„) | 1x |
| **v3** | **Async REST** | **6.5ì´ˆ** | **45.9x** |
| v3 | WebSocket | ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ | âˆ |

---

## ğŸ¯ íƒì§€ ì „ëµ

### 1. Binary Arbitrage (ë‹¨ì¼ ì¡°ê±´)

```
ì •ìƒ ì‹œì¥:
  YES $0.50 + NO $0.50 = $1.00 â†’ ì°¨ìµ ì—†ìŒ

ë¹„ì •ìƒ ì‹œì¥:
  YES $0.48 + NO $0.46 = $0.94 â†’ $0.06 (6.38%) ë¬´ìœ„í—˜ ìˆ˜ìµ!
```

**ì›ë¦¬**: ê²°ê³¼ì— ê´€ê³„ì—†ì´ YES ë˜ëŠ” NO ì¤‘ í•˜ë‚˜ê°€ $1.00ë¡œ ì •ì‚°ë¨

### 2. NegRisk Arbitrage (ë‹¤ì¤‘ ì¡°ê±´)

Polymarketì€ NegRiskë¥¼ **ì´ë²¤íŠ¸ ë‚´ ë‹¤ì¤‘ ë§ˆì¼“**ìœ¼ë¡œ êµ¬í˜„:

```
ì´ë²¤íŠ¸: "Who will win the election?"

ê°œë³„ ë§ˆì¼“ë“¤:
  "Will Candidate A win?" YES: $0.25
  "Will Candidate B win?" YES: $0.22
  "Will Candidate C win?" YES: $0.18
  "Will Candidate D win?" YES: $0.15
  "Will Candidate E win?" YES: $0.12
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Total YES:                    $0.92
  Profit:                       $0.08 (8.7%)
```

**ì›ë¦¬**: ì •í™•íˆ í•˜ë‚˜ì˜ YESë§Œ $1.00ë¡œ ì •ì‚°, ë‚˜ë¨¸ì§€ëŠ” $0

**ë…¼ë¬¸ ë°œê²¬**: "NO ë§¤ìˆ˜" ì „ëµì´ $17.3Mìœ¼ë¡œ ê°€ì¥ ìˆ˜ìµì„± ë†’ìŒ

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### ì„¤ì¹˜

```bash
# uv ì‚¬ìš© (ê¶Œì¥)
uv sync

# ë˜ëŠ” pip
pip install -e .
```

### ì‹¤í–‰

```bash
# v3 (ê¶Œì¥) - ë¹„ë™ê¸°, 45ë°° ë¹ ë¦„
PYTHONPATH=src uv run python -m polyarb --once

# ì—°ì† ëª¨ë‹ˆí„°ë§
PYTHONPATH=src uv run python -m polyarb --interval 10

# í•„í„°ë§ (3%+, ìœ ë™ì„± $5K+)
PYTHONPATH=src uv run python -m polyarb --min-profit 3 --min-liquidity 5000

# v2 (legacy)
uv run python polymarket_arbitrage_bot_v2.py --once
```

### CLI ì˜µì…˜

| ì˜µì…˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|--------|------|
| `--min-profit` | 1.0 | ìµœì†Œ ìˆ˜ìµë¥  % |
| `--min-liquidity` | 1000 | ìµœì†Œ ìœ ë™ì„± $ |
| `--interval` | 10 | ìŠ¤ìº” ê°„ê²© (ì´ˆ) |
| `--once` | - | í•œ ë²ˆë§Œ ìŠ¤ìº” |
| `--no-alerts` | - | ì•Œë¦¼ ë¹„í™œì„±í™” |
| `--no-log` | - | ë¡œê¹… ë¹„í™œì„±í™” |

---

## ğŸ“± ì•Œë¦¼ ì„¤ì •

`.env` íŒŒì¼ ìƒì„±:

```bash
# Discord
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/...

# Telegram
TELEGRAM_BOT_TOKEN=123456789:ABC...
TELEGRAM_CHAT_ID=123456789
```

---

## âš ï¸ ì‹¤í–‰ ìœ„í—˜ (ë…¼ë¬¸ ê°•ì¡°)

### Non-Atomic Trades

> "Due to the order book nature of Polymarket, each trade is non-atomic;
> thus, there is always some risk in attempting the arbitrage."
> â€” Paper Section 3.2.1

**ìœ„í—˜ ì‹œë‚˜ë¦¬ì˜¤**:
1. YES ë§¤ìˆ˜ ì„±ê³µ ($0.48)
2. NO ë§¤ìˆ˜ ì‹œë„ ì¤‘ ê°€ê²© ë³€ë™ â†’ $0.53ë¡œ ìƒìŠ¹
3. ì´ ë¹„ìš© $1.01 â†’ ì†ì‹¤ ë°œìƒ

**ì™„í™” ì „ëµ**:
- í˜¸ê°€ì°½ ê¹Šì´ í™•ì¸ í›„ ì£¼ë¬¸
- ìŠ¬ë¦¬í”¼ì§€ í—ˆìš© ë²”ìœ„ ì„¤ì •
- ë¶€ë¶„ ì²´ê²° ì‹œ ë¡¤ë°± ë¡œì§ (êµ¬í˜„ í•„ìš”)

### ìˆ˜ìˆ˜ë£Œ

```
í˜„ì¬ Polymarket ìˆ˜ìˆ˜ë£Œ: 0% (ë…¼ë¬¸ ê¸°ì¤€)
â€» ì–¸ì œë“  ë³€ê²½ ê°€ëŠ¥

ê¶Œì¥ ë§ˆì§„:
  â€¢ ìµœì†Œ: 1.5% (ìˆ˜ìˆ˜ë£Œ ë³€ê²½ ëŒ€ë¹„)
  â€¢ ì•ˆì „: 3.0%+
```

---

## ğŸ“ˆ As-Is (í˜„ì¬ êµ¬í˜„)

### âœ… ì™„ë£Œ

| ê¸°ëŠ¥ | v2 | v3 | ìƒíƒœ |
|------|----|----|------|
| Binary ì•„ë¹„íŠ¸ë¼ì§€ íƒì§€ | âœ… | âœ… | ì™„ë£Œ |
| NegRisk ì´ë²¤íŠ¸ ê¸°ë°˜ íƒì§€ | âŒ | âœ… | ì™„ë£Œ |
| ë¹„ë™ê¸° API (45x ì†ë„) | âŒ | âœ… | ì™„ë£Œ |
| WebSocket í´ë¼ì´ì–¸íŠ¸ | âŒ | âœ… | ì™„ë£Œ |
| ì˜¤ë”ë¶ ê¹Šì´ ë¶„ì„ | âŒ | âœ… | ì™„ë£Œ |
| Discord/Telegram ì•Œë¦¼ | âœ… | âœ… | ì™„ë£Œ |
| CSV ë¡œê¹… | âœ… | âœ… | ì™„ë£Œ |
| Risk-Adjusted Return | âœ… | âœ… | ì™„ë£Œ |

### ğŸ“Š ìµœê·¼ í…ŒìŠ¤íŠ¸ ê²°ê³¼

```
ìŠ¤ìº” ì‹œê°„: 6.5ì´ˆ (500 ë§ˆì¼“ + 44 NegRisk ì´ë²¤íŠ¸)
ë°œê²¬ëœ ê¸°íšŒ: 252ê°œ (Binary 216ê°œ + NegRisk 36ê°œ)
ìµœê³  ìˆ˜ìµë¥ : 3.09% (NFL ìŠ¤í”„ë ˆë“œ)
```

---

## ğŸ”® To-Be (í–¥í›„ êµ¬í˜„)

### Phase 2: ì‹¤í–‰ ìë™í™”

| ê¸°ëŠ¥ | ìš°ì„ ìˆœìœ„ | ë³µì¡ë„ | ì„¤ëª… |
|------|----------|--------|------|
| py-clob-client í†µí•© | ğŸ”´ High | ì¤‘ê°„ | ìë™ ì£¼ë¬¸ ì‹¤í–‰ |
| ë¶€ë¶„ ì²´ê²° ì²˜ë¦¬ | ğŸ”´ High | ë†’ìŒ | ì‹¤í–‰ ìœ„í—˜ ê´€ë¦¬ |
| í¬ì§€ì…˜ íŠ¸ë˜í‚¹ | ğŸŸ  Medium | ì¤‘ê°„ | ë³´ìœ  í¬ì§€ì…˜ ê´€ë¦¬ |
| P&L ë¦¬í¬íŒ… | ğŸŸ  Medium | ë‚®ìŒ | ì†ìµ ê³„ì‚° |

### Phase 3: ê³ ë„í™”

| ê¸°ëŠ¥ | ìš°ì„ ìˆœìœ„ | ë³µì¡ë„ | ì„¤ëª… |
|------|----------|--------|------|
| ì¹´í…Œê³ ë¦¬ í•„í„°ë§ | ğŸŸ¡ Medium | ë‚®ìŒ | ìŠ¤í¬ì¸ /ì •ì¹˜ ë¶„ë¥˜ |
| ë°±í…ŒìŠ¤íŒ… ì—”ì§„ | ğŸŸ¡ Medium | ë†’ìŒ | íˆìŠ¤í† ë¦¬ ë¶„ì„ |
| WebSocket ì‹¤ì‹œê°„ ìŠ¤ìº” | ğŸŸ¢ Low | ì¤‘ê°„ | í•˜ì´ë¸Œë¦¬ë“œ ëª¨ë“œ |
| ì¡°í•© ì•„ë¹„íŠ¸ë¼ì§€ | ğŸŸ¢ Low | ë§¤ìš° ë†’ìŒ | ì˜ì¡´ì  ë§ˆì¼“ íƒì§€ |

### ìë™ ì‹¤í–‰ ì˜ˆì‹œ (To-Be)

```python
from py_clob_client.client import ClobClient

client = ClobClient(
    host="https://clob.polymarket.com",
    chain_id=137,
    key="YOUR_PRIVATE_KEY",
    creds=ApiCreds(api_key, api_secret, passphrase)
)

# ê¸°íšŒ ë°œê²¬ ì‹œ ìë™ ì‹¤í–‰
async def execute_arbitrage(opp: ArbitrageOpportunity):
    # 1. í˜¸ê°€ì°½ ê¹Šì´ í™•ì¸
    # 2. ìŠ¬ë¦¬í”¼ì§€ ê³„ì‚°
    # 3. ì–‘ìª½ ì£¼ë¬¸ ìƒì„±
    # 4. ë¶€ë¶„ ì²´ê²° ì²˜ë¦¬
    # 5. P&L ê¸°ë¡
    pass
```

---

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
polymarket_arbi/
â”œâ”€â”€ src/polyarb/           # v3.0 í•µì‹¬ ëª¨ë“ˆ
â”œâ”€â”€ polymarket_arbitrage_bot_v2.py  # v2.0 ë ˆê±°ì‹œ
â”œâ”€â”€ polymarket_arbitrage_bot.py     # v1.0 ë ˆê±°ì‹œ
â”œâ”€â”€ analyze_opportunities.py        # í†µê³„ ë¶„ì„ ë„êµ¬
â”œâ”€â”€ arbitrage_opportunities.csv     # ë°œê²¬ ê¸°íšŒ ë¡œê·¸
â”œâ”€â”€ pyproject.toml         # í”„ë¡œì íŠ¸ ì„¤ì •
â”œâ”€â”€ .env                   # í™˜ê²½ë³€ìˆ˜ (ìƒì„± í•„ìš”)
â”œâ”€â”€ CLAUDE.md              # AI ì»¨í…ìŠ¤íŠ¸
â””â”€â”€ README.md              # ì´ ë¬¸ì„œ
```

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [Polymarket Docs](https://docs.polymarket.com)
- [CLOB API Docs](https://docs.polymarket.com/#clob-api)
- [py-clob-client](https://github.com/Polymarket/py-clob-client)
- ë…¼ë¬¸: Polymarket Arbitrage Analysis (2024)

---

## âš¡ ë©´ì±… ì¡°í•­

ì´ ë´‡ì€ **êµìœ¡/ì—°êµ¬ ëª©ì **ì…ë‹ˆë‹¤.
- íˆ¬ì ì†ì‹¤ì— ëŒ€í•œ ì±…ì„ì€ ì‚¬ìš©ìì—ê²Œ ìˆìŠµë‹ˆë‹¤
- ì‹¤ì œ ê±°ë˜ ì „ ë²•ì  ê²€í† ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤
- Polymarket ToSë¥¼ ì¤€ìˆ˜í•˜ì„¸ìš”

---

## ğŸ“œ ë¼ì´ì„ ìŠ¤

MIT License - ììœ ë¡­ê²Œ ì‚¬ìš©í•˜ì„¸ìš”.

---

*Last updated: 2025-01-03*
*v3.0 - Async architecture with 45.9x speed improvement*
